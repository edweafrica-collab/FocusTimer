<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FocusTime Control</title>
    <link rel="stylesheet" href="styles.css">
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="container">
        <header class="header">
            <div class="header-left">
                <h1>FocusTimer</h1>
                <button id="btn-show-viewer" hidden>Screen</button>
            </div>
            <div id="connection-status" class="status-badge">Checking...</div>
        </header>

        <section class="timer-display">
            <div id="main-timer" class="time-readout">00:00</div>
            <div id="timer-status" class="status-text">Ready</div>
        </section>

        <section class="controls-section">
            <div class="input-group">
                <label>Duration</label>
                <div class="time-inputs">
                    <input type="number" id="input-min" placeholder="00" min="0" max="999">
                    <span>:</span>
                    <input type="number" id="input-sec" placeholder="00" min="0" max="59">
                </div>
            </div>

            <div class="presets">
                <button class="preset-btn" data-time="5">+5m</button>
                <button class="preset-btn" data-time="10">+10m</button>
                <button class="preset-btn" data-time="15">+15m</button>
                <button class="preset-btn" data-time="20">+20m</button>
                <button class="preset-btn" data-time="30">+30m</button>
                <button class="preset-btn" data-time="45">+45m</button>
                <button class="preset-btn" data-time="60">+60m</button>
                <button class="preset-btn" data-time="90">+90m</button>
            </div>

            <div class="transport-controls">
                <button id="btn-start" class="transport-btn start">START</button>
                <button id="btn-pause" class="transport-btn pause" hidden>PAUSE</button>
                <button id="btn-stop" class="transport-btn stop">RESET</button>
            </div>

            <div class="adjust-controls">
                <button class="adjust-btn" data-adjust="60">+1m</button>
                <button class="adjust-btn" data-adjust="-60">-1m</button>
                <button class="adjust-btn" data-adjust="10">+10s</button>
                <button class="adjust-btn" data-adjust="-10">-10s</button>
            </div>
        </section>

        <section class="meta-section">
            <label>Session Title (Optional)</label>
            <div class="input-row title-controls">
                <input type="text" id="session-title" placeholder="e.g. Keynote Speech" class="input-flex">
                <button id="btn-publish-title" class="action-btn btn-publish">SHOW</button>
                <button id="btn-clear-title" class="secondary-btn">CLEAR</button>
            </div>
        </section>
    </div>

    <!-- Recovery Modal -->
    <div id="recovery-modal" class="modal-overlay" hidden>
        <div class="modal-content">
            <h2>Previous Session Found</h2>
            <p id="recovery-desc">A session was in progress. Do you want to resume?</p>
            <div class="modal-actions">
                <button id="btn-resume">Resume</button>
                <button id="btn-discard" class="secondary-btn">Start New</button>
            </div>
        </div>
    </div>

    <!-- Multi-Screen Modal -->
    <div id="screen-modal" class="modal-overlay" hidden>
        <div class="modal-content">
            <h2>Secondary Display Detected</h2>
            <p>Do you want to launch the Viewer on the second screen?</p>
            <div class="modal-actions">
                <button id="btn-screen-yes">Yes, Launch on Screen 2</button>
                <button id="btn-screen-no" class="secondary-btn">No, Use Primary</button>
            </div>
        </div>
    </div>

    <!-- Single-Screen Warning Modal -->
    <div id="single-screen-modal" class="modal-overlay" hidden>
        <div class="modal-content">
            <h3>Fullscreen Mode</h3>
            <p>The timer will take over this screen.</p>
            <p>Press <strong>ESC</strong> to return to these controls.</p>
            <div class="modal-actions">
                <button id="btn-single-launch">Launch Viewer</button>
                <button id="btn-single-cancel" class="secondary-btn">Cancel</button>
            </div>
        </div>
    </div>


    <script src="../shared/timer.js"></script>
    <script src="renderer.js"></script>
</body>

</html>